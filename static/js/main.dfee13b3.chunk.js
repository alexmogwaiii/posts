(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(11),a=n.n(c),s=n(28),i=n(20),o=n(38),l=n(67),u=n(14),j="USERS/LOAD_USERS",d="USERS/SET_USER_ID",b="POSTS/LOAD_POSTS",h="POSTS/SET_POST_ID",p="POSTS/EDIT_POST",O="POSTS/DELETE_POST",f="APP/SHOW_LOADER",x="APP/HIDE_LOADER",m="COMMENTS/LOAD_COMMENTS",v={loading:!1},y={fetchedUsers:[],selectedUserId:null},g={fetchedPosts:[],selectedPost:{},deletedPost:null,editedPost:null},w={fetchedComments:[]},S=Object(o.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{fetchedUsers:t.payload});case d:return Object(u.a)(Object(u.a)({},e),{},{selectedUserId:t.payload});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case x:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{fetchedPosts:t.payload});case h:return Object(u.a)(Object(u.a)({},e),{},{selectedPost:t.payload});case O:return Object(u.a)(Object(u.a)({},e),{},{deletedPost:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{editedPost:t.payload});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)(Object(u.a)({},e),{},{fetchedComments:t.payload});default:return e}}}),E=Object(o.e)(S,Object(o.d)(Object(o.a)(l.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),k=n(15),P=n(142),T=n(150),C=n(154),_=n(153),D=n(148),I=n(151),N=n(152),U=n(149),A=n(147),W=n(107),R=n(145),L=n(8),J=n.n(L),M=n(18),X="https://jsonplaceholder.typicode.com/",B=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(X).concat(t));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("".concat(n.status,"-").concat(n.statusText));case 6:return e.abrupt("return",n.json());case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(M.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("users");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("posts?userId=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"posts"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"posts/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"posts/").concat(t.id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("comments?postId=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function K(e){return function(){var t=Object(M.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:t.sent,n({type:O,payload:K});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Q=n(4),Y=Object(P.a)({table:{minWidth:650}}),Z=function(){var e=Y(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.users.fetchedUsers})),c=Object(i.c)((function(e){return e.app.loading}));Object(r.useEffect)((function(){t(function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.next=3,F();case 3:n=e.sent,t({type:j,payload:n}),t({type:x});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var a=function(e){t(function(e){return{type:d,payload:e}}(e))};return c?Object(Q.jsx)(R.a,{}):Object(Q.jsxs)(A.a,{container:!0,children:[Object(Q.jsx)("h1",{className:"title",children:"Users"}),Object(Q.jsx)(D.a,{component:U.a,children:Object(Q.jsxs)(T.a,{className:e.table,"aria-label":"table",children:[Object(Q.jsx)(I.a,{children:Object(Q.jsxs)(N.a,{children:[Object(Q.jsx)(_.a,{children:"Name"}),Object(Q.jsx)(_.a,{align:"right",children:"Email"}),Object(Q.jsx)(_.a,{align:"right",children:"Phone"}),Object(Q.jsx)(_.a,{align:"right",children:"Website"}),Object(Q.jsx)(_.a,{align:"right",children:"Posts"})]})}),Object(Q.jsx)(C.a,{children:n.map((function(e){return Object(Q.jsxs)(N.a,{children:[Object(Q.jsx)(_.a,{component:"th",scope:"row",children:e.name}),Object(Q.jsx)(_.a,{align:"right",children:e.email}),Object(Q.jsx)(_.a,{align:"right",children:e.phone}),Object(Q.jsx)(_.a,{align:"right",children:e.website}),Object(Q.jsx)(_.a,{align:"right",children:Object(Q.jsx)(s.c,{to:"/posts",children:Object(Q.jsx)(W.a,{variant:"contained",onClick:function(){a(e.id)},children:"Posts"})})})]},e.id)}))})]})})]})},$=n(35),ee=n(165),te=n(167),ne=n(160),re=n(157),ce=n(158),ae=n(156),se=n(155),ie=Object(P.a)({table:{minWidth:650}}),oe=function(){var e=ie(),t=Object(r.useState)(!1),n=Object($.a)(t,2),c=n[0],a=n[1],o=Object(i.b)(),l=Object(i.c)((function(e){return e.users.selectedUserId})),u=Object(i.c)((function(e){return e.posts.fetchedPosts})),j=Object(r.useState)(""),d=Object($.a)(j,2),p=d[0],O=d[1],f=Object(r.useState)(""),x=Object($.a)(f,2),m=x[0],v=x[1],y=function(e){var t=e.target,n=t.id,r=t.value;switch(n){case"title":O(r);break;case"text":v(r)}},g=function(){var e=Object(M.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V({title:p,body:m,userId:l});case 3:t=e.sent,console.log(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){o(function(e){return{type:h,payload:e}}(e))},S=function(){a(!1)};return Object(r.useEffect)((function(){o(function(e){return function(){var t=Object(M.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e);case 2:r=t.sent,n({type:b,payload:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l))}),[]),Object(Q.jsxs)(A.a,{container:!0,children:[Object(Q.jsx)("h1",{className:"title",children:"Posts"}),Object(Q.jsxs)(se.a,{maxWidth:"lg",children:[Object(Q.jsx)(W.a,{variant:"outlined",color:"primary",onClick:function(){a(!0)},children:"Add new"}),Object(Q.jsxs)(te.a,{open:c,onClose:S,"aria-labelledby":"form-dialog-title",maxWidth:"xl",children:[Object(Q.jsx)(ae.a,{id:"form-dialog-title",children:"Add new post"}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ce.a,{children:"Write here the title of your post"}),Object(Q.jsx)(ee.a,{margin:"dense",id:"title",label:"Title",type:"text",onChange:y}),Object(Q.jsx)(ce.a,{children:"Write here the text of your post"}),Object(Q.jsx)(ee.a,{margin:"dense",id:"text",label:"Text",type:"text",onChange:y})]}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)(W.a,{onClick:S,color:"primary",children:"Cancel"}),Object(Q.jsx)(W.a,{onClick:function(){g(),S()},color:"primary",children:"Add"})]})]})]}),Object(Q.jsx)(D.a,{component:U.a,children:Object(Q.jsxs)(T.a,{className:e.table,"aria-label":"table",children:[Object(Q.jsx)(I.a,{children:Object(Q.jsxs)(N.a,{children:[Object(Q.jsx)(_.a,{children:"Titile"}),Object(Q.jsx)(_.a,{align:"right",children:"Body"}),Object(Q.jsx)(_.a,{align:"right",children:"Detail"})]})}),Object(Q.jsx)(C.a,{children:u.map((function(e){return Object(Q.jsxs)(N.a,{children:[Object(Q.jsx)(_.a,{component:"th",scope:"row",children:e.title}),Object(Q.jsx)(_.a,{align:"right",children:e.body}),Object(Q.jsx)(_.a,{align:"right",children:Object(Q.jsx)(s.c,{to:"/post/".concat(e.id),children:Object(Q.jsx)(W.a,{variant:"contained",onClick:function(){w(e)},children:"Detail"})})})]},e.id)}))})]})})]})},le=n(159),ue=n(162),je=n(164),de=n(163),be=n(168),he=n(43),pe=n(161),Oe=Object(P.a)((function(e){return{root:{width:"100%",maxWidth:"80%",backgroundColor:e.palette.background.paper},inline:{display:"inline",marginRight:"15px"},buttons:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}}}})),fe=function(){var e=Oe(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.comments.fetchedComments})),c=Object(i.c)((function(e){return e.posts.selectedPost})),a=Object(r.useState)(!1),s=Object($.a)(a,2),o=s[0],l=s[1],u=Object(r.useState)(""),j=Object($.a)(u,2),d=j[0],b=j[1],h=Object(r.useState)(""),O=Object($.a)(h,2),f=O[0],x=O[1];Object(r.useEffect)((function(){var e;n.length||t((e=c.id,function(){var t=Object(M.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:r=t.sent,n({type:m,payload:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]);var v=function(){l(!1)},y=function(e){var t=e.target,n=t.id,r=t.value;switch(n){case"title":b(r);break;case"text":x(r)}};return Object(Q.jsxs)(A.a,{container:!0,children:[Object(Q.jsxs)(se.a,{children:[Object(Q.jsx)(he.a,{variant:"h4",children:c.title}),Object(Q.jsx)(he.a,{children:c.body}),Object(Q.jsxs)("div",{className:e.buttons,children:[Object(Q.jsxs)(pe.a,{color:"primary",children:[Object(Q.jsx)(W.a,{onClick:function(){l(!0)},children:"Edit"}),Object(Q.jsx)(W.a,{onClick:function(){t(K(c.id))},children:"Delete"})]}),Object(Q.jsxs)(te.a,{open:o,onClose:v,"aria-labelledby":"form-dialog-title",maxWidth:"xl",children:[Object(Q.jsx)(ae.a,{id:"form-dialog-title",children:"Edit post"}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ce.a,{children:"Write here the title of your post"}),Object(Q.jsx)(ee.a,{margin:"dense",id:"title",label:"Title",type:"text",onChange:y}),Object(Q.jsx)(ce.a,{children:"Write here the text of your post"}),Object(Q.jsx)(ee.a,{margin:"dense",id:"text",label:"Text",type:"text",onChange:y})]}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)(W.a,{onClick:v,color:"primary",children:"Cancel"}),Object(Q.jsx)(W.a,{onClick:function(){var e;(d||f)&&t((e={id:c.id,title:d,body:f,userId:c.userId},function(){var t=Object(M.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:r=t.sent,n({type:p,payload:r}),console.log(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),v()},color:"primary",children:"Add"})]})]})]})]}),Object(Q.jsx)(le.a,{className:e.root,children:n.map((function(t){return Object(Q.jsxs)(ue.a,{alignItems:"center",children:[Object(Q.jsx)(de.a,{children:Object(Q.jsx)(be.a,{alt:"Remy Sharp"})}),Object(Q.jsxs)(je.a,{children:[Object(Q.jsx)(he.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:t.name}),Object(Q.jsx)(he.a,{children:t.body}),Object(Q.jsx)(he.a,{children:t.email})]})]},t.id)}))})]})};n(105);var xe=function(){return Object(Q.jsx)("div",{className:"App",children:Object(Q.jsxs)(s.b,{basename:"/",children:[Object(Q.jsx)(k.b,{path:"/users",component:Z}),Object(Q.jsx)(k.b,{path:"/posts/",component:oe}),Object(Q.jsx)(k.b,{path:"/post/:postId",component:fe}),Object(Q.jsx)(k.a,{from:"/",to:"/users"})]})})};a.a.render(Object(Q.jsx)(i.a,{store:E,children:Object(Q.jsx)(s.a,{children:Object(Q.jsx)(xe,{})})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.dfee13b3.chunk.js.map