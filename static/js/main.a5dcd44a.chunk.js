(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(11),a=n.n(c),s=n(30),i=n(21),o=n(39),u=n(69),l=n(14),j="USERS/LOAD_USERS",d="USERS/SET_USER_ID",b="POSTS/LOAD_POSTS",h="POSTS/SET_POST_ID",p="POSTS/EDIT_POST",O="POSTS/DELETE_POST",f="APP/SHOW_LOADER",x="APP/HIDE_LOADER",m="COMMENTS/LOAD_COMMENTS",v={loading:!1},y={fetchedUsers:[],selectedUserId:null},g={fetchedPosts:[],selectedPost:{},deletedPost:null,editedPost:null},w={fetchedComments:[]},S=Object(o.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(l.a)(Object(l.a)({},e),{},{fetchedUsers:t.payload});case d:return Object(l.a)(Object(l.a)({},e),{},{selectedUserId:t.payload});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case x:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{fetchedPosts:t.payload});case h:return Object(l.a)(Object(l.a)({},e),{},{selectedPost:t.payload});case O:return Object(l.a)(Object(l.a)({},e),{},{deletedPost:t.payload});case p:return Object(l.a)(Object(l.a)({},e),{},{editedPost:t.payload});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(l.a)(Object(l.a)({},e),{},{fetchedComments:t.payload});default:return e}}}),P=Object(o.e)(S,Object(o.d)(Object(o.a)(u.a))),k=n(16),E=n(149),T=n(157),C=n(161),I=n(160),D=n(155),U=n(158),N=n(159),A=n(156),W=n(154),_=n(111),R=n(152),L=n(8),J=n.n(L),M=n(19),B="https://jsonplaceholder.typicode.com/",F=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(B).concat(t));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("".concat(n.status,"-").concat(n.statusText));case 6:return e.abrupt("return",n.json());case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(M.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("users");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("posts?userId=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(B,"posts"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(B,"posts/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(B,"posts/").concat(t.id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("comments?postId=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var V=n(4),X=Object(E.a)({table:{minWidth:650}}),Y=function(){var e=X(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.users.fetchedUsers})),c=Object(i.c)((function(e){return e.app.loading}));Object(r.useEffect)((function(){t(function(){var e=Object(M.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.next=3,H();case 3:n=e.sent,t({type:j,payload:n}),t({type:x});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var a=function(e){t(function(e){return{type:d,payload:e}}(e))};return c?Object(V.jsx)(R.a,{}):Object(V.jsxs)(W.a,{container:!0,children:[Object(V.jsx)("h1",{className:"title",children:"Users"}),Object(V.jsx)(D.a,{component:A.a,children:Object(V.jsxs)(T.a,{className:e.table,"aria-label":"table",children:[Object(V.jsx)(U.a,{children:Object(V.jsxs)(N.a,{children:[Object(V.jsx)(I.a,{children:"Name"}),Object(V.jsx)(I.a,{align:"right",children:"Email"}),Object(V.jsx)(I.a,{align:"right",children:"Phone"}),Object(V.jsx)(I.a,{align:"right",children:"Website"}),Object(V.jsx)(I.a,{align:"right",children:"Posts"})]})}),Object(V.jsx)(C.a,{children:n.map((function(e){return Object(V.jsxs)(N.a,{children:[Object(V.jsx)(I.a,{component:"th",scope:"row",children:e.name}),Object(V.jsx)(I.a,{align:"right",children:e.email}),Object(V.jsx)(I.a,{align:"right",children:e.phone}),Object(V.jsx)(I.a,{align:"right",children:e.website}),Object(V.jsx)(I.a,{align:"right",children:Object(V.jsx)(s.c,{to:"/posts",children:Object(V.jsx)(_.a,{variant:"contained",onClick:function(){a(e.id)},children:"Posts"})})})]},e.id)}))})]})})]})},Z=n(23),$=n(173),ee=n(177),te=n(168),ne=n(165),re=n(166),ce=n(164),ae=n(162),se=n(176),ie=n(174),oe=Object(E.a)({table:{minWidth:650}});function ue(e){return Object(V.jsx)(ie.a,Object(l.a)({elevation:6,variant:"filled"},e))}var le=function(){var e=oe(),t=Object(r.useState)(!1),n=Object(Z.a)(t,2),c=n[0],a=n[1],o=Object(i.b)(),u=Object(i.c)((function(e){return e.users.selectedUserId})),l=Object(i.c)((function(e){return e.posts.fetchedPosts})),j=Object(r.useState)(""),d=Object(Z.a)(j,2),p=d[0],O=d[1],f=Object(r.useState)(""),x=Object(Z.a)(f,2),m=x[0],v=x[1],y=Object(r.useState)(!1),g=Object(Z.a)(y,2),w=g[0],S=g[1],P=Object(r.useState)(!1),k=Object(Z.a)(P,2),E=k[0],R=k[1],L=function(e){var t=e.target,n=t.id,r=t.value;switch(E&&R(!1),n){case"title":O(r);break;case"text":v(r)}},B=function(){var e=Object(M.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z({title:p,body:m,userId:u});case 3:v(""),O(""),S(!0),setTimeout((function(){S(!1)}),4e3),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),F=function(e){o(function(e){return{type:h,payload:e}}(e))},H=function(){R(!1),a(!1)};return Object(r.useEffect)((function(){o(function(e){return function(){var t=Object(M.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:r=t.sent,n({type:b,payload:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(u))}),[]),Object(V.jsxs)(W.a,{container:!0,children:[Object(V.jsx)("h1",{className:"title",children:"Posts"}),Object(V.jsxs)(ae.a,{maxWidth:"lg",children:[Object(V.jsx)(_.a,{variant:"outlined",color:"primary",onClick:function(){a(!0)},children:"Add new"}),Object(V.jsx)(se.a,{open:w,children:Object(V.jsx)(ue,{severity:"success",children:"Post was published!"})}),Object(V.jsxs)(ee.a,{open:c,onClose:H,"aria-labelledby":"form-dialog-title",maxWidth:"xl",children:[Object(V.jsx)(ce.a,{id:"form-dialog-title",children:"Add new post"}),Object(V.jsxs)(ne.a,{children:[Object(V.jsx)(re.a,{children:"Write here the title of your post"}),Object(V.jsx)($.a,{margin:"dense",id:"title",label:"Title",type:"text",onChange:L,error:E}),Object(V.jsx)(re.a,{children:"Write here the text of your post"}),Object(V.jsx)($.a,{margin:"dense",id:"text",label:"Text",type:"text",onChange:L,error:E})]}),Object(V.jsxs)(te.a,{children:[Object(V.jsx)(_.a,{onClick:H,color:"primary",children:"Cancel"}),Object(V.jsx)(_.a,{onClick:function(){m&&p?(B(),H()):R(!0)},color:"primary",children:"Add"})]})]})]}),Object(V.jsx)(D.a,{component:A.a,children:Object(V.jsxs)(T.a,{className:e.table,"aria-label":"table",children:[Object(V.jsx)(U.a,{children:Object(V.jsxs)(N.a,{children:[Object(V.jsx)(I.a,{children:"Titile"}),Object(V.jsx)(I.a,{align:"right",children:"Body"}),Object(V.jsx)(I.a,{align:"right",children:"Detail"})]})}),Object(V.jsx)(C.a,{children:l.map((function(e){return Object(V.jsxs)(N.a,{children:[Object(V.jsx)(I.a,{component:"th",scope:"row",children:e.title}),Object(V.jsx)(I.a,{align:"right",children:e.body}),Object(V.jsx)(I.a,{align:"right",children:Object(V.jsx)(s.c,{to:"/post/".concat(e.id),children:Object(V.jsx)(_.a,{variant:"contained",onClick:function(){F(e)},children:"Detail"})})})]},e.id)}))})]})})]})},je=n(167),de=n(170),be=n(172),he=n(171),pe=n(178),Oe=n(44),fe=n(169);function xe(e){return Object(V.jsx)(ie.a,Object(l.a)({elevation:6,variant:"filled"},e))}var me=Object(E.a)((function(e){return{root:{width:"100%",maxWidth:"80%",backgroundColor:e.palette.background.paper},inline:{display:"inline",marginRight:"15px"},buttons:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}}}})),ve=function(){var e=me(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.comments.fetchedComments})),c=Object(i.c)((function(e){return e.posts.selectedPost})),a=Object(r.useState)(!1),s=Object(Z.a)(a,2),o=s[0],u=s[1],l=Object(r.useState)(""),j=Object(Z.a)(l,2),d=j[0],b=j[1],h=Object(r.useState)(""),f=Object(Z.a)(h,2),x=f[0],v=f[1],y=Object(r.useState)(!1),g=Object(Z.a)(y,2),w=g[0],S=g[1],P=Object(r.useState)(!1),k=Object(Z.a)(P,2),E=k[0],T=k[1],C=Object(r.useState)(!1),I=Object(Z.a)(C,2),D=I[0],U=I[1];Object(r.useEffect)((function(){var e;n.length||t((e=c.id,function(){var t=Object(M.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e);case 2:r=t.sent,n({type:m,payload:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]);var N=function(){S(!1),u(!1)},A=function(e){var t=e.target,n=t.id,r=t.value;switch(n){case"title":b(r);break;case"text":v(r)}S(!1)};return Object(V.jsxs)(W.a,{container:!0,children:[Object(V.jsxs)(ae.a,{children:[Object(V.jsx)(Oe.a,{variant:"h4",children:c.title}),Object(V.jsx)(Oe.a,{children:c.body}),Object(V.jsx)(se.a,{open:E||D,children:Object(V.jsx)(xe,{severity:"success",children:E?"Post was edited":"Post was deleted"})}),Object(V.jsx)("div",{className:e.buttons,children:Object(V.jsxs)(fe.a,{color:"primary",children:[Object(V.jsx)(_.a,{onClick:function(){u(!0)},children:"Edit"}),Object(V.jsx)(_.a,{onClick:function(){var e;t((e=c.id,function(){var t=Object(M.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:r=t.sent,n({type:O,payload:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),U(!0),setTimeout((function(){U(!1)}),4e3)},children:"Delete"})]})}),Object(V.jsxs)(ee.a,{open:o,onClose:N,"aria-labelledby":"form-dialog-title",maxWidth:"xl",children:[Object(V.jsx)(ce.a,{id:"form-dialog-title",children:"Edit post"}),Object(V.jsxs)(ne.a,{children:[Object(V.jsx)(re.a,{children:"Write here the title of your post"}),Object(V.jsx)($.a,{margin:"dense",id:"title",label:"Title",type:"text",onChange:A,error:w}),Object(V.jsx)(re.a,{children:"Write here the text of your post"}),Object(V.jsx)($.a,{margin:"dense",id:"text",label:"Text",type:"text",onChange:A,error:w})]}),Object(V.jsxs)(te.a,{children:[Object(V.jsx)(_.a,{onClick:N,color:"primary",children:"Cancel"}),Object(V.jsx)(_.a,{onClick:function(){var e;d&&x?(t((e={id:c.id,title:d,body:x,userId:c.userId},function(){var t=Object(M.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:r=t.sent,n({type:p,payload:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),b(""),v(""),N(),T(!0),setTimeout((function(){T(!1)}),4e3)):S(!0)},color:"primary",children:"Add"})]})]})]}),Object(V.jsx)(je.a,{className:e.root,children:n.map((function(t){return Object(V.jsxs)(de.a,{alignItems:"center",children:[Object(V.jsx)(he.a,{children:Object(V.jsx)(pe.a,{alt:"Remy Sharp"})}),Object(V.jsxs)(be.a,{children:[Object(V.jsx)(Oe.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:t.name}),Object(V.jsx)(Oe.a,{children:t.body}),Object(V.jsx)(Oe.a,{children:t.email})]})]},t.id)}))})]})};n(109);var ye=function(){return Object(V.jsx)("div",{className:"App",children:Object(V.jsxs)(s.b,{basename:"/",children:[Object(V.jsx)(k.b,{path:"/users",component:Y}),Object(V.jsx)(k.b,{path:"/posts/",component:le}),Object(V.jsx)(k.b,{path:"/post/:postId",component:ve}),Object(V.jsx)(k.a,{from:"/",to:"/users"})]})})};a.a.render(Object(V.jsx)(i.a,{store:P,children:Object(V.jsx)(s.a,{children:Object(V.jsx)(ye,{})})}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.a5dcd44a.chunk.js.map